name: Pull Request First Interaction
on:
  pull_request:
    branches: [master]
    types: [opened]

jobs:
  main:
    runs-on: ubuntu-latest
    steps:
    - name: Create comments
      run: |
        cat << EOF > comments
        In doing a code review, you should make sure that:
        
        - Design: The code is well-designed.
        - Functionality: The functionality is good for the users of the code.
        - UI: Any UI changes are sensible and look good.
        - Parallel Programming: Any parallel programming is done safely.
        - Complexity: The code isn’t more complex than it needs to be.
        - YAGNI: The developer isn’t implementing things they might need in the future but don’t know they need now.
        - Tests: Code has appropriate unit tests. Tests are well-designed.
        - Naming: The developer used clear names for everything.
        - Comments: Comments are clear and useful, and mostly explain why instead of what.
        - Docs: Code is appropriately documented.
        - Style: The code conforms to our style guides.
        
        Every Review Comment's First Line MUST start with one of these keyword, **"MUST"**, **"SHOULD"**, **"IMO"**, or **"NIT"**.
        OR, **"LGTM"**
        
        すべてのレビューコメントは、 **MUST**, **SHOULD**, **IMO**, **NIT** のいずれかから始まる "1行目" を入れてください。
        もしくは **"LGTM"**。
        EOF
    
    - name: Post comments
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN}}
        URL: ${{github.event.pull_request.html_url}}
      run:
        gh pr comment -F ./comments "${URL}"
